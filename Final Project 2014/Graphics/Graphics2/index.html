<!-- Tamir Abu salah 201260148   AND   Shacar romi 305522948-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Paint</title>
    <link rel="stylesheet" text="css\text" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="drawfunctions.js"></script>

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

</head>
<body>
    <div id="menu">
        <div id="logo"><input type="file" id="files" name="files[]" multiple />  
			<output id="list"></output></div>
		<br><br><br><br>
            <div data-toggle="buttons" class="radios" > 
			
		<script> // open file code
			if (window.File && window.FileReader && window.FileList && window.Blob) {
				console.log('The File APIs are fully supported in this browser.');
			} else {
				console.log('The File APIs are not fully supported in this browser.');
			}
			function handleFileSelect(evt) {
	
			var files = evt.target.files; // FileList object

			// Loop through the FileList and render image files as thumbnails.
			for (var i = 0, f; f = files[i]; i++) {
			var reader = new FileReader();

			// Closure to capture the file information.
			reader.onload = (function(theFile) {
			return function(e) {
			// Render thumbnail.
			var file = this.result;
			console.log(file);
			var line = file.split("\n");
			console.log(line[20]);
			for(var l =0 ; l<21 ; l++){
				var shape = line[l].split(" ");
				if(shape[0]== "line"){
					console.log("its a line");
					console.log(shape[1]);
					console.log(shape[2]);
					console.log(shape[3]);
					console.log(shape[4]);
					addLine(parseInt(shape[1]),parseInt(shape[3]),parseInt(shape[2]),parseInt(shape[4])); 
				}
				if(shape[0] == "circle"){
					console.log("its a circle");
					addCircle(parseInt(shape[1]),parseInt(shape[2]),parseInt(shape[3]),parseInt(shape[4]));
				}
				if(shape[0] == "curve"){
					console.log("its a curve");
					var e = document.getElementById("curve_lines");
			
					addCurve(parseInt(shape[1]),parseInt(shape[3]),parseInt(shape[5]),parseInt(shape[7]),parseInt(shape[2]),parseInt(shape[4]),parseInt(shape[6]),parseInt(shape[8]));
				}
			}
			drawAll();
			};
		})(f);
		reader.readAsText(f);
		}
	}
	document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>
                <label class="btn btn-default btn-circle btn-lg" id="my_move">
                <input type="radio" id="move" name="opts" value="move"/>
                </label>
				<br><br>
                <label class="btn btn-default btn-circle btn-lg" id="my_rotation">
                <input type="radio" id="rotation" name="opts" value="rotation"/>
                </label>
				<br><br>
                <label class="btn btn-default btn-circle btn-lg" id="my_scaling">
                <input type="radio" id="scaling" name="opts" value="scaling" />
                </label>
				<br><br>
                <label class="btn btn-default btn-circle btn-lg" id="my_shearing">
                <input type="radio" id="shearing" name="opts" value="shearing" />
                </label>
				<br><br>
				<label class="btn btn-default btn-circle btn-lg" id="my_refX">
                <input type="radio" id="refX" name="opts" value="reflectionX"/>
				</label>
				<br><br>
				<label class="btn btn-default btn-circle btn-lg" id="my_refY">
                <input type="radio" id="refY" name="opts" value="reflectionY"/>
				</label>
				<br><br>
				 angle:<br> <input type = "text" id="angle" name="_angle">
          
  
		<br><br>
				<button class="btn  btn-default btn-sm" type="button" onclick="clearCanvas()">Clear</button>
                </div>
				</div>
				<canvas id="canvas" width="1248" height="550"  ></canvas>
	</body>
</html>